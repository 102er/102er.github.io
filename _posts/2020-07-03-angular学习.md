---
layout: post
title: 'Angular学习'
date: 2019-07-25
author: blossom
cover: 'http://on2171g4d.bkt.clouddn.com/jekyll-banner.png'
tags: 前端 angular
---

> angular学习

### 基础
Angular是一个HTML和Ts构建客户端应用的平台和架构，支持model-view-controller编程结构，非常适合构建动态的单页网络应用程序，Angular的基本构造块是NgModule，它为组件提供了编译的上下文环境，NgModule会把相关的代码收集到一些功能集中，而angular应用就是由一组NgModule定义出的，应用至少会有一个
用于引导应用的根模块一般命名为：appModule，复杂的应用也会有一些特性模块，用来划分功能区域。除了模块，angular还有组件、模板、路由以及服务依赖注入等特性，其中组件和模板共同定义了 Angular 的视图，
组件类上的装饰器为其添加了元数据，其中包括指向相关模板的指针，组件模板中的指令和绑定标记会根据程序数据和程序逻辑修改这些视图。
<br>而依赖注入器会为组件提供一些服务，比如路由器服务就能让你定义如何在视图之间导航。以下是大致的架构图：
![angular2](https://blossom102er.github.io/assets/img/angular.png)
### 模块
angular应用是模块化的,它有用自己的模块化系统：NgModule。一切都从模块开始的，一个NgModule就是一个组织代码的容器，用于存放内聚的代码块，这些代码块专注于某个应用领域，某个工作流或者一组紧密相关的功能。可以包含
一些组件，服务提供者或者其他代码文件，其作用域由包含它们的NgModule定义。还可以import一些其他模块中导出的功能，并导出一些指定的功能给其他NgModule使用。
<br>每个angular应用都至少有一个NgModule类，他就是根模块。习惯上命名为：AppModule，我们引导这个根模块就可以启动相关应用。
NgModule是一个带有@NgModule()装饰器的类，@NgModule()可以接收一个元数据对象，该对象的属性用来描述这个模块,重要属性如下：
    
    @NgModule({
      imports:[
        BrowserModule,
        ....
        LoginModule,
      ], //导入其他模块列表
      declarations: [ AppComponent ], //可说明对象表
      bootstrap:    [ AppComponent ], //应用的主视图，只有根组件上才能设置
      /** 配置 ng-zorro-antd 国际化 **/
      providers   : [
        { provide: NZ_I18N, useValue: zh_CN },
        { provide: NZ_ICON_DEFAULT_TWOTONE_COLOR, useValue: '#00ff00' }, // 不提供的话，即为 Ant Design 的主题蓝色
        { provide: NZ_ICONS, useValue: icons },
        MatomoService
      ], //服务提供者
      exports: [] //可以给其他模块使用的对象
    })
   
模块可以将组件和一组相关代码关联起来，形成功能单元，我们按照自己功能去关联复杂的应用，切割成一个个特性模块，有利于实现可复用设计并且还能按需加载模块，减少代码的体积。目前我们项目的应用结构模式，都是一个根模块管理着很多功能模块，
然后每个模块管理自己的模块内部所使用的组件，指令，管道以及服务等其他有依赖的模块。
### 组件和模板
组件包含两大要素：1是模板，与用户直接交互，2是组件类，每个组件都必须包含一个class，用来维护组件的数据模型，功能逻辑以及事件等。
<br>一个angular应用肯定会包含一个组件，即根组件。每个组件都会定义一个类，其中包含了应用的数据和逻辑，并且会关联一个模板，两者共同描述一个视图。
### 服务与依赖注入
对于与特定视图无关并希望跨组件共享的数据或逻辑，可以创建服务类。 服务类的定义通常紧跟在 “@Injectable()” 装饰器之后。该装饰器提供的元数据可以让你的服务作为依赖被注入到客户组件中。
依赖注入（或 DI）让你可以保持组件类的精简和高效。有了 DI，组件就不用从服务器获取数据、验证用户输入或直接把日志写到控制台，而是会把这些任务委托给服务。
#### 路由
Angular 的 Router 模块提供了一个服务，它可以让你定义在应用的各个不同状态和视图层次结构之间导航时要使用的路径。
<br>在单页面应用中，你可以通过显示或隐藏特定组件的显示部分来改变用户能看到的内容，而不用去服务器获取新页面。当用户执行应用任务时，他们要在你预定义的不同视图之间移动。要想在应用的单个页面中实现这种导航，你可以使用 Angular 的Router（路由器）。

#### 数据绑定
angular支持双向数据绑定，所谓双向绑定，无非就是从视图的操作能实时反应到数据，数据的变更能实时展现到视图。
